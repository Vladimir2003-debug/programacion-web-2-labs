# ---------------------------------------------------
# Imagen base: Python 3.11 slim para mantenerlo ligero
# ---------------------------------------------------
FROM python:3.11-slim

# ---------------------------------------------------
# Directorio de trabajo dentro del contenedor
# ---------------------------------------------------
WORKDIR /app

# ---------------------------------------------------
# Copiar archivos de dependencias
# ---------------------------------------------------
COPY requirements.txt .

# ---------------------------------------------------
# Instalar dependencias de Python
# Incluye Pygame 2.4.0
# ---------------------------------------------------
RUN pip install --no-cache-dir -r requirements.txt

# ---------------------------------------------------
# Copiar el resto del proyecto
# ---------------------------------------------------
COPY . .

# ---------------------------------------------------
# Exponer puerto si tu juego usa red (opcional)
# ---------------------------------------------------
EXPOSE 8000

# ---------------------------------------------------
# Comando por defecto para correr tu juego
# ---------------------------------------------------
CMD ["python", "main.py"]